# 介绍 `Pod`

> 当一个 `Pod` 包含多个容器时, 这些容器总是运行在同一个工作节点上-一个`Pod` 绝不会跨越多个工作节点.

## 为什么需要 `Pod`

**为何多个容器比单个容器中包含多个进程要好**

容器被设计为每个容器只运行一个进程(除非产生了子进程). 如果在单个容器中运行多个进程, 那么保持所有进程都运行, 管理它们的日志就会是开发者的责任. 这些进程的日志都将记录在相同的标准输出中, 而此时我们将很难确定每个进程分别记录了什么.

## 了解 `Pod`

由于不能将多个进程聚集在同一个容器中, 我们需要另一种更高级的结构来将容器绑定在一起, 并将它们作为一个单元进行管理, 这就是 `Pod` 背后的原理.

在包含容器的 `Pod` 下, 我们可以同时运行一些密切相关的进程, 并为它们提供几乎相同的环境, 此时这些进程就像全部运行于单个容器中一样, 同时又保持着一定的隔离.

**同一 `Pod` 容器之间的部分隔离**

`Kubernetes` 通过配置 `CRI` 来让一个 `Pod` 内的所有容器共享相同的 `Linux` 命名空间, 而不是每个容器都有自己的一组命名空间.

一个 `Pod` 中的所有容器都在相同的 `network` `UTS` 命名空间下运行, 所以它们都共享相同的主机名和网络接口. 同样地, 这些也都在相同的 `IPC` 命名空间下运行, 因此能够通过 `IPC` 进行通信. 在新的 `Kubernetes` 中, 也能够共享相同的 `PID` 命名空间. 默认未激活.

涉及到文件系统的时候, 每个容器的文件系统与其它容器完全隔离, 可以使用名为 `Volume` 的 `Kubernetes` 资源共享文件目录.

**容器如何共享相同的 `IP` 和端口空间**

